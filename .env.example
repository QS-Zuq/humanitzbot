# ============================================================
# HumanitZ Discord Bot â€” Configuration
# ============================================================
# Copy this file to .env and fill in your values.
# Every key is shown with its default value â€” edit what you need.
# ============================================================

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  FIRST-TIME SETUP â€” fill these in to get started          â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Downloads logs via SFTP and rebuilds player-stats + playtime data.
# Automatically set to false after first successful start.
FIRST_RUN=true

# â”€â”€ Discord Bot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Create a bot at https://discord.com/developers/applications
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_GUILD_ID=your_discord_guild_id_here

# â”€â”€ RCON â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Get these from your game-server hosting panel (e.g. Bisect)
RCON_HOST=your_server_ip_here
RCON_PORT=8888
RCON_PASSWORD=your_rcon_password_here

# Game port for direct-connect info shown on the server-status embed.
# Optional â€” leave empty to hide direct-connect line.
GAME_PORT=

# Short display name for this server (appears in daily thread titles / summaries).
# Useful when running multiple servers on the same Discord.
# Multi-server instances use the 'name' field in servers.json instead.
SERVER_NAME=

# â”€â”€ SFTP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SFTP credentials for your game server.
# Only host, port, user, and password are required â€” file paths
# are auto-discovered on first run and saved back to this file.
FTP_HOST=
FTP_PORT=2022
FTP_USER=
FTP_PASSWORD=
# SSH private key authentication (optional â€” alternative to password).
# Path to an SSH private key file (e.g. ~/.ssh/id_rsa or C:\Users\you\.ssh\id_ed25519).
# When set, password auth is skipped (unless the key has a passphrase â€” then FTP_PASSWORD is the passphrase).
FTP_PRIVATE_KEY_PATH=
# Common FTP/SFTP ports:
#   2022  â€” BisectHosting SFTP (most common)
#   8821  â€” Some older Bisect plans
#   22    â€” Standard SSH/SFTP (self-hosted)
#   21    â€” Plain FTP (rare, insecure â€” avoid if possible)
# Check your hosting panel for the correct port.

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  PTERODACTYL PANEL API (optional)                          â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# For hosts that use a Pterodactyl-based panel (BisectHosting, Bloom.host, etc.).
# Enables: /panel command (start/stop/restart, console, backups, schedules),
#          host resource monitoring (CPU/RAM/disk in the server-status embed).
# Non-Pterodactyl users: leave these blank â€” the bot works perfectly with just RCON + SFTP.
#
# Server URL:  Go to your hosting panel â†’ My Servers â†’ click your server.
#              Copy the full URL from your browser's address bar.
#              e.g. https://games.bisecthosting.com/server/a1b2c3d4
#
# API Key:     Go to your panel â†’ Account â†’ API Credentials â†’ Create.
#              BisectHosting: https://games.bisecthosting.com/account/api
#              Enter a description (e.g. "HumanitZ Bot"), leave Allowed IPs blank, click Create.
#              Copy the key shown â€” it won't be shown again.
PANEL_SERVER_URL=
PANEL_API_KEY=
ENABLE_PANEL=true                  # Master toggle for /panel command (disable to hide it)
ENABLE_GAME_SETTINGS_EDITOR=true   # Show game settings editor in panel channel (requires SFTP)

# â”€â”€ Host Resource Monitoring (non-Pterodactyl) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# If you don't have a Pterodactyl panel, you can use SSH for CPU/RAM/disk stats.
# Reuses FTP_HOST/FTP_USER/FTP_PASSWORD. Only works if your host allows SSH.
# Most shared game-server hosts do NOT allow SSH â€” this is for self-hosted servers.
ENABLE_SSH_RESOURCES=false
SSH_PORT=                          # Leave empty to use FTP_PORT
#
# Cache TTL for resource metrics (ms, default 30000 = 30s)
#RESOURCE_CACHE_TTL=30000

# â”€â”€ Channel IDs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# The bot uses these channels for its various features.
# Leave empty to skip that feature (shown as ğŸŸ¡ at startup).

ADMIN_CHANNEL_ID=                  # Chat relay, !admin alerts, bot online/offline notifications
CHAT_CHANNEL_ID=                   # Player chat (in-game â†’ Discord). Empty = uses ADMIN_CHANNEL_ID
LOG_CHANNEL_ID=                    # Game log events (damage, builds, activity feed)
SERVER_STATUS_CHANNEL_ID=          # Live server-status embed
PLAYER_STATS_CHANNEL_ID=          # Player stats embed with dropdown
PANEL_CHANNEL_ID=                  # Admin panel (power, console, backups â€” requires Panel API)
MAP_CHANNEL_ID=                    # Auto-post player map image (optional, requires ENABLE_PLAYER_MAP)

# â”€â”€ Admin Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Extra channel IDs to receive !admin alerts (comma-separated).
# When set, alerts go ONLY to these channels (not the chat thread).
ADMIN_ALERT_CHANNEL_IDS=

# Discord user IDs to auto-join to daily threads (comma-separated).
# Enable Developer Mode â†’ right-click user â†’ Copy User ID
ADMIN_USER_IDS=

# Discord role IDs to auto-join to daily threads (comma-separated).
# All members with these roles are added to activity/chat threads.
# Requires "Server Members Intent" enabled in Discord Developer Portal:
#   Bot â†’ Privileged Gateway Intents â†’ Server Members Intent â†’ ON
# Enable Developer Mode â†’ right-click role â†’ Copy Role ID
ADMIN_ROLE_IDS=

# Discord permissions that grant "admin view" for admin-only embed sections.
# Comma-separated. Anyone with ANY of these permissions sees admin-only sections.
# Uses Discord's built-in permission names â€” no role IDs needed.
# Examples: Administrator, ManageGuild, ManageChannels, ManageRoles, ModerateMembers
ADMIN_VIEW_PERMISSIONS=Administrator

# â”€â”€ Timezone â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# IANA timezone for daily threads, summaries, and all displayed times.
# Examples: UTC, America/New_York, America/Chicago, Europe/London, Europe/Tallinn
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
BOT_TIMEZONE=UTC

# Timezone the game server writes log timestamps in (IANA format).
# Most dedicated-server hosts (Bisect, Nitrado, etc.) use UTC.
# Only change this if your server's log timestamps are NOT in UTC.
LOG_TIMEZONE=UTC

# â”€â”€ Discord Invite â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Shown in-game as a periodic broadcast + in the welcome popup.
# Leave empty to skip Discord link broadcasts.
DISCORD_INVITE_LINK=

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  FEATURE TOGGLES                                          â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# All modules are enabled by default. Set to false to disable.
# The bot checks dependencies at startup â€” if a required config
# value is missing, the module is auto-skipped (ğŸŸ¡ in the online embed).
# Disabled modules show as âš«. No module will crash because another is off.

# â”€â”€ Core modules (RCON only) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ENABLE_STATUS_CHANNELS=true        # Voice-channel player-count dashboard
ENABLE_SERVER_STATUS=true          # Live server-status text embed (â†’ SERVER_STATUS_CHANNEL_ID)
ENABLE_CHAT_RELAY=true             # Bidirectional chat bridge + !admin alerts (â†’ ADMIN_CHANNEL_ID)
ENABLE_AUTO_MESSAGES=true          # Periodic broadcasts + join welcomes
ENABLE_PLAYTIME=true               # Cumulative playtime tracking

# â”€â”€ SFTP-dependent modules â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# These require FTP_HOST + FTP_USER + FTP_PASSWORD to be set.
ENABLE_LOG_WATCHER=true            # SFTP log parsing â†’ daily activity threads (â†’ LOG_CHANNEL_ID)
ENABLE_PLAYER_STATS=true           # Save-file parsing â†’ stats embed + dropdown (â†’ PLAYER_STATS_CHANNEL_ID)

# â”€â”€ Player Map Tracking â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Tracks player positions from the save file. Powers the /map command
# and optional auto-post to MAP_CHANNEL_ID. Requires SFTP save file access.
# The @napi-rs/canvas package is needed for image generation.
ENABLE_PLAYER_MAP=false            # Enable player position tracking from save file
MAP_POLL_INTERVAL=300000           # How often to poll save for positions (ms, default 5min)
MAP_WIDTH=1024                     # Output image width in pixels
MAP_SHOW_OFFLINE=true              # Include offline players on the map
MAP_SHOW_NAMES=true                # Show player names next to markers
#MAP_IMAGE_URL=                    # Custom map image URL (default: wiki HumanitZ map)

# â”€â”€ Thread mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Post into daily threads (true) or directly into the channel (false).
USE_CHAT_THREADS=true
USE_ACTIVITY_THREADS=true

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  MODULE SETTINGS                                           â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Fine-tune each module below. Defaults are sane â€” only change what you need.

# â”€â”€ Log Watcher sub-features â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ENABLE_KILL_FEED=true              # Post zombie kill batches to daily activity thread
ENABLE_PVP_KILL_FEED=true          # Post PvP kills (damageâ†’death attribution)
PVP_KILL_WINDOW=60000              # ms to attribute a kill after damage (default 60s)

# â”€â”€ Save-based activity feeds (posted to activity thread from save-file diffs) â”€â”€
ENABLE_FISHING_FEED=true           # "Player caught 3 fish (1 pike)"
ENABLE_RECIPE_FEED=true            # "Player learned Crafting: Firearm, Building: Furnace"
ENABLE_SKILL_FEED=true             # "Player unlocked Mechanic skill"
ENABLE_PROFESSION_FEED=true        # "Player unlocked a new profession"
ENABLE_LORE_FEED=true              # "Player found 2 new lore entries"
ENABLE_UNIQUE_FEED=true            # "Player found/crafted unique item"
ENABLE_COMPANION_FEED=true         # "Player tamed a companion / found a horse"
ENABLE_CHALLENGE_FEED=true         # "Player completed Bear Hunter" â€” challenge completions
ENABLE_WORLD_EVENT_FEED=true       # Season changes, day milestones, airdrops

# Death loop detection â€” collapses rapid-fire death embeds into a summary.
# All deaths are still counted in stats; only Discord embed spam is reduced.
ENABLE_DEATH_LOOP_DETECTION=true
DEATH_LOOP_THRESHOLD=3             # Deaths within window to trigger (default 3)
DEATH_LOOP_WINDOW=60000            # Time window in ms (default 60s)

# â”€â”€ Auto-message sub-features â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ENABLE_AUTO_MSG_LINK=true          # Periodic Discord-link broadcast (RCON admin message)
ENABLE_AUTO_MSG_PROMO=true         # Periodic promo-message broadcast (RCON admin message)
ENABLE_WELCOME_MSG=true            # RCON admin welcome on player join (per-player, with playtime + PvP info)
ENABLE_WELCOME_FILE=true           # Write WelcomeMessage.txt to server via SFTP (colored join popup)
                                   #   â†’ requires SFTP credentials
                                   #   Written at bot startup + after each save poll
# Custom broadcast message text. Leave empty for built-in defaults.
# Placeholders: {server_name}, {day}, {season}, {weather}, {pvp_schedule}, {discord_link}
AUTO_MSG_LINK_TEXT=                 # Custom discord link broadcast (default: "Join our Discord! <link>")
AUTO_MSG_PROMO_TEXT=                # Custom promo broadcast (default: "Have any issues...?")
# Custom welcome lines (pipe-separated). Leave empty for the rich default layout.
# Game rich text tags: <PN> red, <PR> green, <SP> ember, <FO> gray, <CL> blue. Close with </>
WELCOME_FILE_LINES=

# â”€â”€ PvP Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Toggles PVP on/off at scheduled times via SFTP settings edit + server restart.
# Requires SFTP creds + PVP_START_TIME + PVP_END_TIME.
ENABLE_PVP_SCHEDULER=false         # Disabled by default
PVP_START_TIME=18:00               # Default PvP ON  (HH:MM in BOT_TIMEZONE)
PVP_END_TIME=22:00                 # Default PvP OFF (HH:MM in BOT_TIMEZONE)
PVP_RESTART_DELAY=10               # Minutes of countdown warnings before restart (10,5,3,2,1)
PVP_UPDATE_SERVER_NAME=false       # Append "PVP Enabled HH:MM-HH:MM tz" to server name during PvP
PVP_DAYS=                          # Days PvP is active (e.g. Mon,Wed,Fri). Empty = every day.
                                   # Accepts: Mon/Tue/Wed/Thu/Fri/Sat/Sun, full names, or 0-6 (Sun=0)
# Settings overrides â€” JSON of GameServerSettings.ini keys to change when PvP is enabled.
# These values are applied when PvP turns ON and reverted to their original values when PvP turns OFF.
# Keys must exactly match the .ini file (e.g. OnDeath, VitalDrain, ZombieDiffDamage).
# Example: {"OnDeath":"0","VitalDrain":"1","ZombieDiffDamage":"3","ZombieDiffSpeed":"2"}
PVP_SETTINGS_OVERRIDES=
# Per-day PvP hour overrides (optional). Format: HH:MM-HH:MM. Blank = use defaults above.
# Allows different PvP windows on different days, e.g. longer weekends.
PVP_HOURS_MON=
PVP_HOURS_TUE=
PVP_HOURS_WED=
PVP_HOURS_THU=
PVP_HOURS_FRI=
PVP_HOURS_SAT=
PVP_HOURS_SUN=

# â”€â”€ Poll Intervals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# How often each module checks for updates. Defaults are safe for most setups.
CHAT_POLL_INTERVAL=10000           # Chat polling (ms, default 10s)
STATUS_CACHE_TTL=30000             # RCON status cache (ms, default 30s)
STATUS_CHANNEL_INTERVAL=300000     # Voice channel renames (ms, default 5 min â€” Discord rate limit safe)
SERVER_STATUS_INTERVAL=30000       # Server status embed refresh (ms, default 30s)
LOG_POLL_INTERVAL=30000            # SFTP log polling (ms, default 30s)
SAVE_POLL_INTERVAL=300000          # Save file download (ms, default 5 min)
AUTO_MSG_LINK_INTERVAL=1800000     # Discord link broadcast (ms, default 30 min)
AUTO_MSG_PROMO_INTERVAL=2700000    # Promo message broadcast (ms, default 45 min)
AUTO_MSG_JOIN_CHECK=10000          # Join-check for welcome message (ms, default 10s)

# â”€â”€ Agent Mode (optional â€” reduces bandwidth) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# The bot can use a lightweight parser on the game server instead of
# downloading the full ~60MB .sav file every poll.  The parser writes a
# compact ~200-500KB JSON cache; the bot downloads only that â€” 97% less bandwidth.
#
# Modes:
#   auto   = (default) try agent first, fall back to direct .sav download
#   agent  = agent only (fail if agent is unavailable)
#   direct = always download full .sav (classic behavior, no agent)
#
# â”€â”€ How the agent is triggered â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# AGENT_TRIGGER controls how the bot tells the game server to run the parser:
#
#   auto   = (default) try panel command first, then SSH, then passive
#   panel  = send a console command through the Pterodactyl panel API
#            (not yet implemented â€” requires host-side support)
#   ssh    = upload + execute the agent script via SSH
#   none   = don't trigger â€” assume the host runs the agent on its own
#            (cron, systemd, Pterodactyl schedule, etc.)
#
# BisectHosting users (NOT YET IMPLEMENTED â€” pending):
#   Maybe relevant in a future update. You'll just leave AGENT_MODE=auto and AGENT_TRIGGER=auto;
#   the bot sends a panel command, Bisect's wrapper runs the parser, and the
#   bot downloads the small JSON result â€” no SSH needed.
#   For now, BisectHosting users should use AGENT_TRIGGER=none or direct mode.
#
# Self-hosted / SSH users:
#   The bot auto-deploys the parser script and runs it via SSH.
#   Needs SSH access + Node.js 16+ on the game server.
#
# If nothing works, 'auto' falls back to downloading the full .sav.
AGENT_MODE=auto
AGENT_TRIGGER=auto
#AGENT_PANEL_COMMAND=parse-save    # Console command the host wrapper listens for
#AGENT_PANEL_DELAY=5000            # ms to wait after sending command (default: 5s)
#AGENT_NODE_PATH=node              # Path to Node.js binary on game server (default: 'node')
#AGENT_REMOTE_DIR=                 # Where to upload agent script (default: same directory as save file)
#AGENT_CACHE_PATH=                 # Explicit path to humanitz-cache.json (for host-managed agents)
#AGENT_TIMEOUT=120000              # Max ms to wait for agent to finish (default: 120s)
#AGENT_POLL_INTERVAL=90000         # Poll interval when agent active (ms, default 90s, min 30s)
                                   # Faster than SAVE_POLL_INTERVAL since the cache is only ~500KB.
                                   # Set to 0 to use SAVE_POLL_INTERVAL for both modes.

# â”€â”€ Web Map (advanced â€” optional) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Standalone Express web server serving an interactive Leaflet map with live
# player positions, heatmaps, and admin actions.
# Requires ENABLE_PLAYER_MAP=true for position data.
# Not started automatically by the bot â€” run separately: node src/web-map/server.js
#WEB_MAP_PORT=3000                 # HTTP port for the web map server (default: 3000)
#MAP_WORLD_X_MIN=-20000           # UE4 world X at bottom of map image
#MAP_WORLD_X_MAX=260000           # UE4 world X at top of map image
#MAP_WORLD_Y_MIN=-370000          # UE4 world Y at left of map image
#MAP_WORLD_Y_MAX=20000            # UE4 world Y at right of map image
#MAP_HEATMAP_GRID=50              # Heatmap grid resolution (default: 50)
#MAP_MAX_HISTORY=500              # Max position history entries per player (default: 500)

# Web map authentication â€” Discord OAuth2 (optional)
# When set, visitors must log in with Discord and have the required role/permission.
# Without these, the web map is publicly accessible (no auth).
#DISCORD_OAUTH_SECRET=             # OAuth2 client secret (from Discord dev portal â†’ OAuth2)
#WEB_MAP_CALLBACK_URL=http://localhost:3000/auth/callback  # Public callback URL
#WEB_MAP_SESSION_SECRET=           # Cookie signing key (auto-generated if empty)
#WEB_MAP_ALLOWED_ROLES=            # Comma-separated role IDs. If empty, requires Administrator permission.

# â”€â”€ SFTP File Paths (auto-discovered) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Auto-discovered on first run. Override only if discovery fails.
# Optional: set FTP_BASE_PATH to prefix all paths below (e.g. for self-hosted servers).
# Example: FTP_BASE_PATH=/home/user/serverfiles/hzserver
FTP_BASE_PATH=
FTP_LOG_PATH=/HumanitZServer/HMZLog.log
FTP_CONNECT_LOG_PATH=/HumanitZServer/PlayerConnectedLog.txt
FTP_ID_MAP_PATH=/HumanitZServer/PlayerIDMapped.txt
FTP_SAVE_PATH=/HumanitZServer/Saved/SaveGames/SaveList/Default/Save_DedicatedSaveMP.sav
FTP_SETTINGS_PATH=/HumanitZServer/GameServerSettings.ini
FTP_WELCOME_PATH=/HumanitZServer/WelcomeMessage.txt

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  DISPLAY TOGGLES                                           â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Control what sections appear in Discord embeds.

# â”€â”€ Player stats embed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SHOW_RAID_STATS=false              # Raid stats (default: off for PVE servers)
SHOW_PVP_KILLS=false               # "Last 10 PvP Kills" on overview embed
SHOW_VITALS=true                   # Health, hunger, thirst, energy, infection
SHOW_STATUS_EFFECTS=true           # Active afflictions
SHOW_INVENTORY=true                # Equipped items
SHOW_RECIPES=true                  # Unlocked recipes
SHOW_LORE=true                     # Lore entries found
SHOW_CONNECTIONS=true              # Join/leave history
SHOW_CHALLENGE_DESCRIPTIONS=true   # Challenge descriptions alongside progress
SHOW_COORDINATES=false             # Player position from save file (default: off)

# Fine-grained sub-toggles (parent must also be enabled)
# Vitals sub-stats
SHOW_HEALTH=true
SHOW_HUNGER=true
SHOW_THIRST=true
SHOW_STAMINA=true
SHOW_IMMUNITY=true
SHOW_BATTERY=true
# Status effects sub-sections
SHOW_PLAYER_STATES=true            # Bleeding, cold, etc.
SHOW_BODY_CONDITIONS=true          # Fractures, wounds
SHOW_INFECTION_BUILDUP=true        # Infection percentage
SHOW_FATIGUE=true                  # Fatigue flag
# Inventory sub-sections
SHOW_EQUIPMENT=true                # Worn gear
SHOW_QUICK_SLOTS=true              # Hotbar items
SHOW_POCKETS=true                  # Pocket inventory
SHOW_BACKPACK=true                 # Backpack contents
# Recipes sub-sections
SHOW_CRAFTING_RECIPES=true         # Crafting unlocks
SHOW_BUILDING_RECIPES=true         # Building unlocks
# Connections sub-sections
SHOW_CONNECT_COUNT=true            # Login/logout count
SHOW_ADMIN_ACCESS=true             # Admin access count (sensitive)
# Raid sub-sections
SHOW_RAIDS_OUT=true                # Raids initiated
SHOW_RAIDS_IN=true                 # Raids received

# Admin-only flags â€” when true, that section is only visible to Discord users
# with the Administrator permission. Auto-detected, no role config needed.
SHOW_VITALS_ADMIN_ONLY=false
SHOW_STATUS_EFFECTS_ADMIN_ONLY=false
SHOW_INVENTORY_ADMIN_ONLY=false
SHOW_RECIPES_ADMIN_ONLY=false
SHOW_LORE_ADMIN_ONLY=false
SHOW_CONNECTIONS_ADMIN_ONLY=false
SHOW_RAID_STATS_ADMIN_ONLY=false
SHOW_CHALLENGE_DESCRIPTIONS_ADMIN_ONLY=false
SHOW_COORDINATES_ADMIN_ONLY=true   # Coordinates admin-only when enabled

# â”€â”€ Server status embed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SHOW_SERVER_SETTINGS=true          # Server settings grid (from GameServerSettings.ini)
SHOW_EXTENDED_SETTINGS=true        # Bandits, companions, territory, vehicles
# Per-category toggles within the settings grid:
SHOW_SETTINGS_GENERAL=true         # PvP, Max Players, On Death, Perma Death, Vital Drain, XP Multiplier
SHOW_SETTINGS_TIME=true            # Day/Night/Season Length, Start Season
SHOW_SETTINGS_ZOMBIES=true         # Zombie Health/Speed/Damage/Spawns/Respawn
SHOW_SETTINGS_ITEMS=true           # Weapon Break, Food Decay, Loot Respawn, Air Drops
SHOW_SETTINGS_BANDITS=true         # Bandit stats + AI Events (requires SHOW_EXTENDED_SETTINGS)
SHOW_SETTINGS_COMPANIONS=true      # Dog Companion, Companion HP/Dmg (requires SHOW_EXTENDED_SETTINGS)
SHOW_SETTINGS_BUILDING=true        # Building HP/Decay, Gen Fuel, Territory, Dismantle (requires SHOW_EXTENDED_SETTINGS)
SHOW_SETTINGS_VEHICLES=true        # Max Cars (requires SHOW_EXTENDED_SETTINGS)
SHOW_SETTINGS_ANIMALS=true         # Animal Spawns/Respawn (requires SHOW_EXTENDED_SETTINGS)
SHOW_LOOT_SCARCITY=true            # Loot rarity breakdown
SHOW_WEATHER_ODDS=false            # Weather multiplier breakdown (niche â€” off by default)
SHOW_SERVER_VERSION=true           # Game version (from RCON)
SHOW_SERVER_PERFORMANCE=true       # FPS + AI count (from RCON)
SHOW_HOST_RESOURCES=true           # CPU/RAM/disk (from panel API or SSH â€” requires config above)
SHOW_SERVER_DAY=true               # In-game day number (from RCON or save file)
SHOW_SEASON_PROGRESS=true          # Day X/Y within current season
SHOW_WORLD_STATS=true              # Structures, vehicles, zombie kills from save file

# â”€â”€ Overview leaderboards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SHOW_MOST_BITTEN=true              # "Most Bitten" leaderboard
SHOW_MOST_FISH=true                # "Most Fish Caught" leaderboard
SHOW_WEEKLY_STATS=true             # "This Week" alongside all-time stats
WEEKLY_RESET_DAY=1                 # Day to reset weekly stats (0=Sun, 1=Mon, â€¦ 6=Sat)

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  MAINTENANCE                                               â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Factory reset â€” wipes ALL bot messages from Discord, deletes local data
# files, re-imports from server logs via SFTP, and rebuilds everything fresh.
# Use when removing servers, starting over, or fixing corrupted state.
# Runs once on startup, then automatically sets itself back to false.
NUKE_BOT=false
